<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Profile</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"/>

<style>
body{margin:0;font-family:-apple-system,sans-serif;background:#fff}
.top{display:flex;justify-content:space-between;align-items:center;padding:15px}
.icons{display:flex;gap:18px;align-items:center}
.avatar{width:90px;height:90px;border-radius:50%;background:#ddd;display:flex;align-items:center;justify-content:center;font-size:40px;color:#111}
.verify{color:#1877f2;font-size:14px;margin-left:4px}
.grid{display:grid;grid-template-columns:repeat(3,1fr);gap:2px}
.grid div{position:relative}
.ind{position:absolute;top:6px;right:6px;font-size:14px}
.full{position:fixed;inset:0;background:#000;display:none;flex-direction:column;z-index:99}
.full video,.full img{width:100%;height:100%;object-fit:contain}
.fullTop{position:absolute;top:10px;right:10px;color:#fff;font-size:20px}
.toast{position:fixed;bottom:-100px;left:50%;transform:translateX(-50%);background:#222;color:#fff;padding:14px 20px;border-radius:10px;transition:.3s;z-index:200}
.toast.show{bottom:30px}
.sheet{position:fixed;bottom:-300px;left:0;right:0;background:#fff;border-radius:16px 16px 0 0;padding:20px;transition:.3s;z-index:150}
.sheet.show{bottom:0}
.dotWrap{text-align:center;position:absolute;bottom:20px;width:100%}
.dot{display:inline-block;width:8px;height:8px;border-radius:50%;background:#777;margin:0 3px}
.dot.active{background:#fff}
.dropdown{position:absolute;top:50px;right:15px;background:#fff;border:1px solid #eee;border-radius:8px;display:none}
.dropdown div{padding:12px 18px;cursor:pointer}
.dropdown div:hover{background:#f5f5f5}
.loginBtn{margin-top:10px;padding:8px 14px;border:1px solid #000;background:#fff}
</style>
</head>

<body>

<div class="top">
  <div></div>
  <div class="icons">
    <i class="fa fa-share"></i>
    <i class="fa fa-bell"></i>
    <i class="fa fa-ellipsis-vertical" id="menuBtn"></i>
  </div>
</div>

<div style="padding:20px;text-align:center">
  <div id="avatar" class="avatar"><i class="fa fa-user"></i></div>
  <h3 id="uname">Guest</h3>
  <div><span id="subs">0</span> subscribers</div>
  <div><span id="likes">0</span> total likes</div>
  <button id="loginBtn" class="loginBtn">Login</button>
</div>

<div class="grid" id="grid"></div>

<div class="dropdown" id="menu">
  <div onclick="location.href='dashboard.html'">View dashboard</div>
  <div onclick="logoutConfirm()">Logout</div>
</div>

<div class="full" id="full"></div>

<div class="sheet" id="sheet">
  <div onclick="deletePost()">Delete post</div>
  <div onclick="closeSheet()">Cancel</div>
</div>

<div class="toast" id="toast"></div>

<script type="module">
import { createClient } from "https://esm.sh/@supabase/supabase-js@2";

const supabase = createClient(
 "https://spnvgymmrlyqtfrbjjsg.supabase.co",
 "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
);

const menu=document.getElementById('menu');
menuBtn.onclick=()=>menu.style.display=menu.style.display?'':'block';

function toast(msg){
 const t=document.getElementById('toast');
 t.textContent=msg;
 t.classList.add('show');
 setTimeout(()=>t.classList.remove('show'),2500);
}

function logoutConfirm(){
 const s=document.getElementById('sheet');
 s.innerHTML=`<div>Log out?</div><div onclick="doLogout()">Yes</div><div onclick="closeSheet()">Cancel</div>`;
 s.classList.add('show');
}

window.closeSheet=()=>document.getElementById('sheet').classList.remove('show');

window.doLogout=async()=>{
 await supabase.auth.signOut();
 localStorage.clear();
 location.href="https://globaltrends56.blogspot.com";
};

loginBtn.onclick=()=>location.href="login.html";
</script>
</body>
</html> 
